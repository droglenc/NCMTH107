\documentclass[10pt,openany]{book}

%\input{c:/aaaWork/zGnrlLatex/BookPreamble_HC}   % use for the hard-copy version
\input{c:/aaaWork/zGnrlLatex/BookPreamble}
\hypersetup{pdftitle = MTH107 Notes,bookmarksdepth=0}
\input{c:/aaaWork/zGnrlLatex/JustRPreamble}
\usepackage{animate}
\usepackage{bookmark}
\usepackage{titlesec}
\titlespacing\section{0pt}{12pt plus 4pt minus 2pt}{0pt plus 2pt minus 2pt}
\titlespacing\subsection{-3pt}{12pt plus 4pt minus 2pt}{0pt plus 2pt minus 2pt}
\titlespacing\subsubsection{-3pt}{12pt plus 4pt minus 2pt}{0pt plus 2pt minus 2pt}
\renewcommand{\chaptername}{Module}

\begin{document}
<<echo=FALSE, eval=FALSE>>=
## Run this manually (Ctrl-Alt-C) after compiling to split at bookmarks
fn <- "IntroStats"
dir <- "C:/aaaWork/Web/GitHub/NCMTH107/modules/book/"
# this uses the sejda-console program ... use sejda-console -h for help
eng <- "c:/apps/sejda-console-3.2.47/bin/sejda-console splitbybookmarks"
# set input filename
inp <- paste0("-f ",dir,fn,".pdf")
# sets bookmark level to split at
ins <- "-l 1 --discardOutline"
# set output directory and prefix for filenames to the name of the bookmark
out <- paste("-o",dir,"-p [BOOKMARK_NAME] --overwrite")
# put it all together and run
( tmp <- paste(eng,inp,ins,out) )
system(tmp,show.output.on.console=TRUE)

## Removes intermediate files from the directory ... just looks cleaner
tmp <- list.files(dir)
tmp <- tmp[grepl(fn,tmp)]
tmp <- tmp[!grepl(".pdf",tmp) & !grepl(".rnw",tmp)]
file.remove(paste0(dir,tmp))
@

<<setup,echo=FALSE,include=FALSE>>=
## load knitr helper materials
source("c:/aaaWork/zGnrlLatex/knitr_setup.R")
## more knitr options -- force use of include for child documents
opts_knit$set(child.command='input')
## Turn off highlighting and darken box a bit
opts_chunk$set(highlight=FALSE,background=c(235,235,235)/255)
## Make sure that the required packages are loaded
rqrd <- c("NCStats","FSAdata","dplyr","gplots","mvtnorm","TeachingDemos","xtable","ggplot2","patchwork")
for (i in 1:length(rqrd)) library(rqrd[i],character.only=TRUE)
@

  \frontmatter
    \include{FBMatter/FMatter}

  \mainmatter
<<child-WhyStatsImportant, child='WhyStatsImportant.Rnw', eval=TRUE>>=
@
<<child-FoundationalDefinitions, child='FoundationalDefinitions.Rnw', eval=TRUE>>=
@
<<child-DataProd, child='DataProd.Rnw', eval=TRUE>>=
@
<<child-UnivSum, child='UnivSum.Rnw', eval=TRUE>>=
@
<<child-UnivEDA, child='UnivEDA.Rnw', eval=TRUE>>=
@
<<child-NormDist, child='NormDist.Rnw', eval=TRUE>>=
@
<<child-BivEDAQuant, child='BivEDAQuant.Rnw', eval=TRUE>>=
@
<<child-LinearRegression, child='LinearRegression.Rnw', eval=TRUE>>=
@
<<child-BivEDACat, child='BivEDACat.Rnw', eval=TRUE>>=
@
<<child-SamplingDist, child='SamplingDist.Rnw', eval=TRUE>>=
@
<<child-Probability, child='Probability.Rnw', eval=TRUE>>=
@
<<child-HypothesisTests, child='HypothesisTests.Rnw', eval=TRUE>>=
@
<<child-HypothesisTestsErrors, child='HypothesisTestsErrors.Rnw', eval=TRUE>>=
@
<<child-ConfidenceRegions, child='ConfidenceRegions.Rnw', eval=TRUE>>=
@
<<child-ZTest, child='ZTest.Rnw', eval=TRUE>>=
@
<<child-tTest1, child='tTest1.Rnw', eval=TRUE>>=
@
<<child-tTest2, child='tTest2.Rnw', eval=TRUE>>=
@
<<child-ChiSquare, child='chiSquare.Rnw', eval=TRUE>>=
@
<<child-GOF, child='GoodnessOfFit.Rnw', eval=TRUE>>=
@

%  \backmatter
%    \input{FBMatter/BMatter}

\end{document}
