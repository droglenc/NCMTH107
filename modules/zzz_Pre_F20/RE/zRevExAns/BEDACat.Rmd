---
title: "Review Exercise Key"
subtitle: "Bivariate EDA - Categorical"
author: Derek H. Ogle
layout: page
css: "/css/modules.css"
output:
  html_document:
    fig_height: 3
    fig_width: 3.5
    self_contained: false
    lib_dir: zlibs
---

```{r echo=FALSE, eval=FALSE}
# Renders an appropriate HTML file for the webpage
setwd("C:/aaaWork/Web/GitHub/NCMTH107/modules/RE/zRevExAns/")
source("../../../rhelpers/rhelpers.R")
modHTML("BEDACat")
```
```{r echo=FALSE, results='hide'}
library(NCStats)
library(captioner)
tabs <- captioner(prefix="Table")

```

----

## Religion and Genetic Counseling

1. Approximately `r formatC(21/47*100,format="f",digits=1)`% of Jewish physicians supported genetic counseling ($\frac{21}{47}*100$). [*Restricted to Jewish.*]
1. Approximately `r formatC(52/62*100,format="f",digits=1)`% of Catholic physicians did not support genetic counseling ($\frac{52}{62}*100$).  [*Restricted to Catholic.*]
1. Approximately `r formatC(178/287*100,format="f",digits=1)`% of all physicians were Protestant ($\frac{178}{287}*100$). [*No restrictions, use margins.*]
1. Approximately `r formatC(52/220*100,format="f",digits=1)`% of physicians that did not support genetic counseling were Catholic ($\frac{52}{220}*100$). [*Restricted to Don't Support.*]
1. Approximately `r formatC(67/287*100,format="f",digits=1)`% of all physicians supported genetic counseling ($\frac{67}{287}*100$). [*No restrictions, use margins.*]

----

## Herring Gulls

1. Approximately `r formatC(4/42*100,format="f",digits=1)`% of gulls that died in New Jersey died in July ($\frac{4}{42}*100$). [*Restricted to New Jersey.*]
1. Approximately `r formatC(18/688*100,format="f",digits=1)`% of all gulls died in July ($\frac{18}{688}*100$). [*No restrictions, use margins.*]
1. Approximately `r formatC(130/688*100,format="f",digits=1)`% of all gulls died in The Netherlands in September ($\frac{130}{688}*100$). [*No restrictions.*]
    
----

## Elephant Seals

```{r echo=FALSE, results='hide'}
seals <- data.frame(mon=factor(c("Jun","Jun","Jun","Jun","Jun","Jun","Jun",
                                 "Jun","Jul","Jul","Jul","Jul","Jul","Jul",
                                 "Jul","Aug","Aug","Aug","Aug","Aug","Aug",
                                 "Aug","Aug","Aug","Aug","Aug","Aug","Jun",
                                 "Jun","Jun","Jun","Jun","Jul","Jul","Aug",
                                 "Aug","Aug","Aug","Aug","Aug","Aug","Aug",
                                 "Aug","Aug","Aug","Aug","Aug"),
                               levels=c("Jun","Jul","Aug")),
                    sex=factor(c("M","M","M","M","M","M","M","M","M","M","M",
                                 "M","M","M","M","M","M","M","M","M","M","M",
                                 "M","M","M","M","M","F","F","F","F","F","F",
                                 "F","F","F","F","F","F","F","F","F","F","F",
                                 "F","F","F")))
seals.freq <- xtabs(~mon+sex,data=seals)
seals.rowp <- percTable(seals.freq,margin=1)
seals.colp <- percTable(seals.freq,margin=2)
seals.totp <- percTable(seals.freq)
tabs(name="SealsFreq","Frequency of seals by sex and month of observation.")
tabs(name="SealsRowp","Percentage (row) of seals by sex within each month.")
tabs(name="SealsColp","Percentage (column) of seals by month within each sex.")
tabs(name="SealsTotp","Percentage (total) of all seals by sex and month of observation.")
```

1. The frequency table is in `r tabs("SealsFreq",display="cite")`.
1. The row-percentage table is in `r tabs("SealsRowp",display="cite")`.
1. The column-percentage table is in `r tabs("SealsColp",display="cite")`.
1. The total-percentage table is in `r tabs("SealsTotp",display="cite")`.
1. Approximately `r formatC(seals.totp["Sum","M"],format="f",digits=1)`% of elephant seals were male (`r tabs("SealsTotp",display="cite")`).
1. Approximately `r formatC(seals.colp["Aug","M"],format="f",digits=1)`% of male elephant seals were observed in August (`r tabs("SealsColp",display="cite")`).
1. Approximately `r formatC(seals.totp["Aug","Sum"],format="f",digits=1)`% of elephant seals were observed in August (`r tabs("SealsTotp",display="cite")`).
1. Approximately `r formatC(seals.totp["Jul","F"],format="f",digits=1)`% of elephant seals were female and observed in July (`r tabs("SealsTotp",display="cite")`).

`r tabs("SealsFreq")`
```{r SealsFreq, echo=FALSE, comment=""}
addMargins(seals.freq)
```

`r tabs("SealsRowp")`
```{r SealsRowp, echo=FALSE, comment=""}
seals.rowp
```

`r tabs("SealsColp")`
```{r SealsColp, echo=FALSE, comment=""}
seals.colp
```

`r tabs("SealsTotp")`
```{r SealsTotp, echo=FALSE, comment=""}
seals.totp
```

### R Code Appendix
```
seals <- read.csv("data/Seals.csv")
seals$mon <- factor(seals$mon,levels=c("Jun","Jul","Aug"))
( seals.freq <- xtabs(~mon+sex,data=seals) )
( seals.rowp <- percTable(seals.freq,margin=1) )
( seals.colp <- percTable(seals.freq,margin=2) )
( seals.totp <- percTable(seals.freq) )
```

----

## Greenhouse Effect Opinion

```{r echo=FALSE, results='hide'}
gh <- read.csv("https://raw.githubusercontent.com/droglenc/NCData/master/GSSEnviroQues.csv")
gh$recycle <- factor(gh$recycle,levels=c("Always","Often","Sometimes","Never","Not Avail"))
gh$tempgen <- factor(gh$tempgen,levels=c("Extremely","Very","Somewhat","Not Very","Not"))
gh.freq <- xtabs(~recycle+tempgen,data=gh)
gh.rowp <- percTable(gh.freq,margin=1)
gh.colp <- percTable(gh.freq,margin=2)
gh.totp <- percTable(gh.freq)
tabs(name="GHFreq","Frequency of respondents by how often they recycle and how likely they think the world's temperatures are affected by the greenhouse effect.")
tabs(name="GHRowp","Percentage (row) of respondents by how likely they think the world's temperatures are affected by the greenhouse effect within how often they recycle.")
tabs(name="GHColp","Percentage (column) of respondents by how often they recycle within how likely they think the world's temperatures are affected by the greenhouse effect.")
tabs(name="GHTotp","Percentage (total) of respondents by how likely they think the world's temperatures are affected by the greenhouse effect and how often they recycle.")
```

1. Approximately `r formatC(gh.totp["Often","Very"],format="f",digits=1)`% all respondents recycle often and feel that it is very likely that the greenhouse effect has caused the rise in world’s temperature (`r tabs("GHTotp",display="cite")`).
1. Approximately `r formatC(gh.rowp["Often","Very"],format="f",digits=1)`% of those respondents that recycle often feel that it is very likely that the greenhouse effect has caused the rise in world’s temperature (`r tabs("GHRowp",display="cite")`).
1. Approximately `r formatC(gh.colp["Often","Very"],format="f",digits=1)`% of those respondents that think it is very likely that the greenhouse effect has caused the rise in world’s temperature also recycle often (`r tabs("GHColp",display="cite")`).
1. Approximately `r formatC(gh.totp["Often","Sum"],format="f",digits=1)`% of all respondents recycle often (`r tabs("GHTotp",display="cite")`).
1. Approximately `r formatC(gh.totp["Sum","Very"],format="f",digits=1)`% of all respondents think it is very likely that the greenhouse effect has caused the rise in world’s temperature (`r tabs("GHTotp",display="cite")`).

`r tabs("GHFreq")`
```{r GHFreq, echo=FALSE, comment=""}
addMargins(gh.freq)
```

`r tabs("GHRowp")`
```{r GHRowp, echo=FALSE, comment=""}
gh.rowp
```

`r tabs("GHColp")`
```{r GHColp, echo=FALSE, comment=""}
gh.colp
```

`r tabs("GHTotp")`
```{r GHTotp, echo=FALSE, comment=""}
gh.totp
```

### R Code Appendix
```
gh <- read.csv("data/GH.csv")
gh$recycle <- factor(gh$recycle,levels=c("Always","Often","Sometimes","Never","Not Avail"))
gh$tempgen <- factor(gh$tempgen,levels=c("Extremely","Very","Somewhat","Not Very","Not"))
( gh.freq <- xtabs(~recycle+tempgen,data=gh) )
( gh.rowp <- percTable(gh.freq,margin=1) )
( gh.colp <- percTable(gh.freq,margin=2) )
( gh.totp <- percTable(gh.freq) )
```

----

## Animal Types in Zoos
```{r echo=FALSE, results='hide'}
zoo <- read.csv("https://raw.githubusercontent.com/droglenc/NCData/master/Zoo1.csv")
zoo.freq <- xtabs(~zoo+type,data=zoo)
zoo.rowp <- percTable(zoo.freq,margin=1)
zoo.colp <- percTable(zoo.freq,margin=2)
zoo.totp <- percTable(zoo.freq)
tabs(name="ZooFreq","Frequency of zoos by animal type and zoo location.")
tabs(name="ZooRowp","Percentage (row) of zoos by animal type within each zoo location.")
tabs(name="ZooColp","Percentage (column) of zoos by zoo location within each animal type.")
tabs(name="ZooTotp","Percentage (total) of all zoos by animal type and zoo location.")
```

1. The response variable is animal type.
1. Approximately `r formatC(zoo.totp["Sum","bird"],format="f",digits=1)`% of all animals were birds (`r tabs("ZooTotp",display="cite")`).
1. Approximately `r formatC(zoo.rowp["Minnesota","bird"],format="f",digits=1)`% of animals in the Minnesota zoo were birds (`r tabs("ZooRowp",display="cite")`).
1. Approximately `r formatC(zoo.rowp["Chicago (Lincoln Park)","amph/rep"],format="f",digits=1)`% of animals in the Chicago zoo were amphibians/reptiles (`r tabs("ZooRowp",display="cite")`).
1. Approximately `r formatC(zoo.totp["Chicago (Lincoln Park)","Sum"],format="f",digits=1)`% of animals were in the Chicago zoo (`r tabs("ZooTotp",display="cite")`).
1. Approximately `r formatC(zoo.colp["Minnesota","bird"],format="f",digits=1)`% of birds were in the Minnesota zoo (`r tabs("ZooColp",display="cite")`).

`r tabs("ZooFreq")`
```{r ZooFreq, echo=FALSE, comment=""}
addMargins(zoo.freq)
```

`r tabs("ZooRowp")`
```{r ZooRowp, echo=FALSE, comment=""}
zoo.rowp
```

`r tabs("ZooColp")`
```{r ZooColp, echo=FALSE, comment=""}
zoo.colp
```

`r tabs("ZooTotp")`
```{r ZooTotp, echo=FALSE, comment=""}
zoo.totp
```

### R Code Appendix
```
zoo <- read.csv("data/Zoo.csv")
( zoo.freq <- xtabs(~zoo+type,data=zoo) )
( zoo.rowp <- percTable(zoo.freq,margin=1) )
( zoo.colp <- percTable(zoo.freq,margin=2) )
( zoo.totp <- percTable(zoo.freq) )
```

----

## Rainfall in West Africa

1. It rained on 20 days in July (i.e., it rained more than 1 inch on 11 days and less than 1 inch on 9 days).
1. It rained more than 1 inch on 15 days in June and August (i.e., 5+10).
1. Approximately `r formatC(20/30*100,format="f",digits=1)`% of rainy days in August has more than 1 inche of rain ($\frac{20}{30}*100$). [*Restricted to August.*]
1. Approximately `r formatC(20/31*100,format="f",digits=1)`% of all days in July had rain ($\frac{20}{31}*100$). [*Restricted to given days in July.*]
1. Approximately `r formatC(24/62*100,format="f",digits=1)`% of all rainy days had more than 1 inch of rain ($\frac{24}{62}*100$). [*No restrictions.*]
1. Approximately `r formatC(12/62*100,format="f",digits=1)`% of all rainy days were in June ($\frac{12}{62}*100$). [*No restrictions, use margins.*]

