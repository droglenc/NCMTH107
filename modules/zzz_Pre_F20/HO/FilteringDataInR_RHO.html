---
layout: page
title: R Handout
subtitle: Filtering Data In R
author: Derek H. Ogle
css: /css/modules.css
---


<div id="always-first-command" class="section level2">
<h2>Always First Command</h2>
<pre class="r"><code>library(NCStats)</code></pre>
<hr />
</div>
<div id="basic-data-frames" class="section level2">
<h2>Basic Data Frames</h2>
<pre class="r"><code>setwd(&quot;C:/stats/&quot;)
dfobj &lt;- read.csv(&quot;Iris.csv&quot;)</code></pre>
<pre class="r"><code>str(dfobj)</code></pre>
<pre><code>## &#39;data.frame&#39;:    150 obs. of  5 variables:
##  $ seplen : int  50 46 46 51 55 48 52 49 44 50 ...
##  $ sepwid : int  33 34 36 33 35 31 34 36 32 35 ...
##  $ petlen : int  14 14 10 17 13 16 14 14 13 16 ...
##  $ petwid : int  2 3 2 5 2 2 2 1 2 6 ...
##  $ species: Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 ..</code></pre>
<pre class="r"><code>headtail(dfobj)     # NOT the entire data.frame</code></pre>
<pre><code>##     seplen sepwid petlen petwid   species
## 1       50     33     14      2    setosa
## 2       46     34     14      3    setosa
## 3       46     36     10      2    setosa
## 148     57     25     50     20 virginica
## 149     58     28     51     24 virginica
## 150     63     33     60     25 virginica</code></pre>
</div>
<div id="working-with-data-frames" class="section level2">
<h2>Working With Data Frames</h2>
<pre class="r"><code>dfobj$seplen</code></pre>
<pre><code>##   [1] 50 46 46 51 55 48 52 49 44 50 44 47 48 51 48 50 50 43 58 51 49 51 50
##  [24] 46 57 50 54 52 55 49 54 50 44 47 46 51 50 49 54 54 51 48 48 45 57 51
##  [47] 54 51 52 53 65 62 59 61 60 56 57 63 70 64 61 55 54 58 55 50 67 56 58
##  [70] 60 57 57 49 56 57 66 52 60 50 55 58 62 59 60 67 63 56 63 61 64 51 57
##  [93] 61 56 69 55 55 66 68 67 64 67 63 69 65 65 58 68 62 77 67 76 49 67 59
## [116] 63 64 79 67 77 63 72 61 61 64 62 77 63 58 72 71 64 60 63 77 60 69 74
## [139] 56 73 67 65 69 72 65 64 68 57 58 63</code></pre>
<pre class="r"><code>dfobj$species</code></pre>
<pre><code>##   [1] setosa     setosa     setosa     setosa     setosa     setosa    
##   [7] setosa     setosa     setosa     setosa     setosa     setosa    
##  [13] setosa     setosa     setosa     setosa     setosa     setosa    
##  [19] setosa     setosa     setosa     setosa     setosa     setosa    
##  [25] setosa     setosa     setosa     setosa     setosa     setosa    
##  [31] setosa     setosa     setosa     setosa     setosa     setosa    
##  [37] setosa     setosa     setosa     setosa     setosa     setosa    
##  [43] setosa     setosa     setosa     setosa     setosa     setosa    
##  [49] setosa     setosa     versicolor versicolor versicolor versicolor
##  [55] versicolor versicolor versicolor versicolor versicolor versicolor
##  [61] versicolor versicolor versicolor versicolor versicolor versicolor
##  [67] versicolor versicolor versicolor versicolor versicolor versicolor
##  [73] versicolor versicolor versicolor versicolor versicolor versicolor
##  [79] versicolor versicolor versicolor versicolor versicolor versicolor
##  [85] versicolor versicolor versicolor versicolor versicolor versicolor
##  [91] versicolor versicolor versicolor versicolor versicolor versicolor
##  [97] versicolor versicolor versicolor versicolor virginica  virginica 
## [103] virginica  virginica  virginica  virginica  virginica  virginica 
## [109] virginica  virginica  virginica  virginica  virginica  virginica 
## [115] virginica  virginica  virginica  virginica  virginica  virginica 
## [121] virginica  virginica  virginica  virginica  virginica  virginica 
## [127] virginica  virginica  virginica  virginica  virginica  virginica 
## [133] virginica  virginica  virginica  virginica  virginica  virginica 
## [139] virginica  virginica  virginica  virginica  virginica  virginica 
## [145] virginica  virginica  virginica  virginica  virginica  virginica 
## Levels: setosa versicolor virginica</code></pre>
</div>
<div id="filtering-data-frames" class="section level2">
<h2>Filtering Data Frames</h2>
<pre class="r"><code>set &lt;- filterD(dfobj,species==&quot;setosa&quot;)
str(set)</code></pre>
<pre><code>## &#39;data.frame&#39;:    50 obs. of  5 variables:
##  $ seplen : int  50 46 46 51 55 48 52 49 44 50 ...
##  $ sepwid : int  33 34 36 33 35 31 34 36 32 35 ...
##  $ petlen : int  14 14 10 17 13 16 14 14 13 16 ...
##  $ petwid : int  2 3 2 5 2 2 2 1 2 6 ...
##  $ species: Factor w/ 1 level &quot;setosa&quot;: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<pre class="r"><code>gt5 &lt;- filterD(dfobj,seplen&gt;5)
headtail(gt5)</code></pre>
<pre><code>##     seplen sepwid petlen petwid   species
## 1       50     33     14      2    setosa
## 2       46     34     14      3    setosa
## 3       46     36     10      2    setosa
## 148     57     25     50     20 virginica
## 149     58     28     51     24 virginica
## 150     63     33     60     25 virginica</code></pre>
<pre class="r"><code>setver1 &lt;- filterD(dfobj,species!=&quot;virginica&quot;)
str(setver1)</code></pre>
<pre><code>## &#39;data.frame&#39;:    100 obs. of  5 variables:
##  $ seplen : int  50 46 46 51 55 48 52 49 44 50 ...
##  $ sepwid : int  33 34 36 33 35 31 34 36 32 35 ...
##  $ petlen : int  14 14 10 17 13 16 14 14 13 16 ...
##  $ petwid : int  2 3 2 5 2 2 2 1 2 6 ...
##  $ species: Factor w/ 2 levels &quot;setosa&quot;,&quot;versicolor&quot;: 1 1 1 1 1 1 1 1 1 1..</code></pre>
<pre class="r"><code>setver &lt;- filterD(dfobj,species %in% c(&quot;setosa&quot;,&quot;versicolor&quot;))
str(setver)</code></pre>
<pre><code>## &#39;data.frame&#39;:    100 obs. of  5 variables:
##  $ seplen : int  50 46 46 51 55 48 52 49 44 50 ...
##  $ sepwid : int  33 34 36 33 35 31 34 36 32 35 ...
##  $ petlen : int  14 14 10 17 13 16 14 14 13 16 ...
##  $ petwid : int  2 3 2 5 2 2 2 1 2 6 ...
##  $ species: Factor w/ 2 levels &quot;setosa&quot;,&quot;versicolor&quot;: 1 1 1 1 1 1 1 1 1 1..</code></pre>
<pre class="r"><code>ver_and_gt5 &lt;- filterD(dfobj,species==&quot;versicolor&quot;,seplen&gt;5)
headtail(ver_and_gt5)</code></pre>
<pre><code>##    seplen sepwid petlen petwid    species
## 1      65     28     46     15 versicolor
## 2      62     22     45     15 versicolor
## 3      59     32     48     18 versicolor
## 48     66     30     44     14 versicolor
## 49     68     28     48     14 versicolor
## 50     67     30     50     17 versicolor</code></pre>
<pre class="r"><code>ver_or_gt5 &lt;- filterD(dfobj,species==&quot;versicolor&quot; | seplen&gt;5)
headtail(ver_or_gt5)</code></pre>
<pre><code>##     seplen sepwid petlen petwid   species
## 1       50     33     14      2    setosa
## 2       46     34     14      3    setosa
## 3       46     36     10      2    setosa
## 148     57     25     50     20 virginica
## 149     58     28     51     24 virginica
## 150     63     33     60     25 virginica</code></pre>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
