---
title: "Answer Key"
subtitle: "Filtering Data In R CE"
author: Derek H. Ogle
layout: page
css: "/css/modules.css"
output:
  html_document:
    self_contained: false
---

```{r echo=FALSE, eval=FALSE}
## Renders an appropriate HTML file and moves to CE directory
source("modules/CE/1_CE_Keys/zzz_modHTML_CEKeys.R")
modHTML_CEKeys("KEY_FilteringDataInR_CE")
```

```{r echo=FALSE, results='hide', message=FALSE}
library(NCStats)
source("../../../rhelpers/knitr_setup.R")
```

----

The following two commands were run before the code run below because I saved all of my files in the same directory.
```{r eval=FALSE}
library(NCStats)
setwd("T:/Stats")
```

----

<div class="alert alert-warning">
<strong>Note:</strong>
<ol>
  <li>If the variable in the condition statement is a character or factor then the comparison value must be in quotes. If the variable is quantitative then the comparision value should not be in quotes.</li>
  <li>Use two equals signs (i.e., `==`) when testing whether something "is equal".</li>
  <li>Two condition statements in `filterD()` are treated as being combined with an "and".</li>
  <li>If the object name to the left of the assignment operator (i.e., `<-`) is the same as the data.frame in `filterD()` then the data.frame in `filterD()` will be over-written and your original data will be lost (until you read it in again). In other words, be very careful if the new data.frame name is the same as the name for an old data.frame.</li>
</ol>
</div>


## Coarse Woody Debris
```{r}
cwd <- read.csv("cwd.csv")
( cwd.low <- filterD(cwd,exposure=="low") )
( cwd.gt20 <- filterD(cwd,diameter>20) )
( cwd.lowget20 <- filterD(cwd,exposure=="low",diameter>20) )
( cwd.btw2030 <- filterD(cwd,diameter>20,diameter<30) )
```

----

## Cars
```{r echo=FALSE}
car <- read.csv("https://raw.githubusercontent.com/droglenc/NCData/master/93cars.csv")
```
```{r eval=FALSE}
car <- read.csv("93cars.csv")
```
```{r}
str(car)
( fords <- filterD(car,MFG=="Ford") )
( goodgas <- filterD(car,CMPG>30) )
( nostick <- filterD(car,Manual=="No",HMPG>30) )
( hpsub <- filterD(car,HP>175,HP<200) )
anor <- filterD(car,Domestic=="Yes"|Cyls==4) # large, didn't show result
```

----

## Purple Loosestrife Plants
```{r echo=FALSE, results='hide'}
df <- data.frame(
lstrf=c(13,2,1,0,9,11,5,5,14,23,0,2,3,3,6,7,4,16,1),
shade=c("O","S","S","S","O","O","S","P","O","O","S","S","P","P","P","P","S","O","S"))
```
```{r eval=-(1:2)}
setwd('C:/aaaWork/Books/IntroStats/HW/')
df <- read.csv("loostrife.csv")
( shady <- filterD(df,shade=="S") )
( open <- filterD(df,shade=="O") )
( notshady <- filterD(df,shade!="S") )
( gt10 <- filterD(df,lstrf>10) )
( shadygt10 <- filterD(df,shade=="S",lstrf <5) )
```
