---
layout: page
title: "Answer Key"
subtitle: "R 2-Sample t Class Example"
author: Derek H. Ogle
css: "/css/modules.css"
---


<hr />
<div id="cholesterol-drug-treatments-ii" class="section level2">
<h2>Cholesterol Drug Treatments II</h2>
<p>The full 11-steps for this example are in these <a href="KEY_2Samplet_CExmpl">annotations for the 2-sample t-test class example</a>. However, the calculations required for Steps 5, 6, 7, 8, and 11 may be computed in R if the raw data are available as they were here. Note, however, that the data only had the before and after the drug LDL levels for each patient and not the reduction in LDL. Thus, a reduction in LDL variable had to be computed at shown below. This will not be required for most situations.</p>
<pre class="r"><code>&gt; dfobj &lt;- read.csv(&quot;https://raw.githubusercontent.com/droglenc/NCData/master/Cholesterol2.csv&quot;)
&gt; dfobj$redux &lt;- dfobj$before-dfobj$after
&gt; str(dfobj)</code></pre>
<pre><code>&#39;data.frame&#39;:   25 obs. of  4 variables:
 $ before: num  2.98 2.7 2.6 2.94 2.55 2.92 2.94 2.94 2.5 3.41 ...
 $ after : num  2.63 2.43 2.34 2.41 2.28 2.44 2.45 2.44 2.26 2.96 ...
 $ tx    : chr  &quot;Lipanthyl&quot; &quot;Lipanthyl&quot; &quot;Lipanthyl&quot; &quot;Lipanthyl&quot; ...
 $ redux : num  0.35 0.27 0.26 0.53 0.27 ...</code></pre>
<p>Another important note is that the data must be “stacked” in order to perform the analyses in R. This means that the data for one group must be stacked below the data for the other group, which will require a variable to explain which group the values correspond to. Fortunately this conforms to our mantra that each row must contain data from only one individual. The first three and last three rows for these data illustrate the stacked format.</p>
<pre class="r"><code>&gt; headtail(dfobj)</code></pre>
<pre><code>   before after        tx redux
1    2.98  2.63 Lipanthyl  0.35
2    2.70  2.43 Lipanthyl  0.27
3    2.60  2.34 Lipanthyl  0.26
23   2.62  2.43   Befizal  0.19
24   2.99  2.64   Befizal  0.35
25   2.63  2.45   Befizal  0.18</code></pre>
<p>The Levene’s test result is computed with <code>levenesTest()</code> using a formula of the form <code>qvar~cvar</code>, where <code>qvar</code> is the quantitative response variable and <code>cvar</code> is the categorical variable that describes the groups. Of course, the <code>data=</code> argument is also needed. The p-value is shown under the <code>Pr(&gt;F)</code> heading.</p>
<pre class="r"><code>&gt; levenesTest(redux~tx,data=dfobj)</code></pre>
<pre><code>Levene&#39;s Test for Homogeneity of Variance (center = median)
      Df F value Pr(&gt;F)
group  1  0.0463 0.8315
      23               </code></pre>
<p>The histogram of the response variable for each group may be needed for Step 4 (as above) and is easily computed as below (which you have done before). <img src="KEY_Rt2_CExmpl_files/figure-html/unnamed-chunk-6-1.png" width="576" /></p>
<p>Finally, most of the calculations for Steps 6, 7, 8, and 11 are computed with <code>t.test()</code> using the same formula and <code>data=</code> argument as for <code>levenesTest()</code>. If the variances are found to be equal then you MUST also include <code>var.equal=TRUE</code>. Finally, you should include the null hypothesized value in <code>mu=</code> (will always be zero for 2-sample t-test), the alternative hypothesis sign in <code>alt=</code>, and the confidence level in <code>conf.level=</code> as you have done with the 1-sample t-test.</p>
<pre class="r"><code>&gt; t.test(redux~tx,data=dfobj,mu=0,alt=&quot;two.sided&quot;,conf.level=0.95,var.equal=TRUE)</code></pre>
<pre><code> Two Sample t-test with redux by tx 
t = -1.4885, df = 23, p-value = 0.1502
alternative hypothesis: true difference in means is not equal to 0 
95 percent confidence interval:
 -0.18673806  0.03045601 
sample estimates:
  mean in group Befizal mean in group Lipanthyl 
              0.2776923               0.3558333 </code></pre>
<p>From this output one can see</p>
<ul>
<li>The two sample means for Step 6 at the very bottom of the output.</li>
<li>The t test statistics for Step 7 after “t=”, with the corresponding degrees-of-freedom after “df=”. Note that when you use <code>t.test()</code> like this you do not need to worry about computing the pooled sample variance or the standard error.</li>
<li>The p-value is after “p-value=” (and, thus, you do not need to use <code>distrib()</code>).</li>
<li>The confidence region values are under “XX percent confidence interval”. Note that you do not need to find t<sup>*</sup> nor perform the calculations as they are done here for you. You simply need to write the interpretation.</li>
</ul>
<p>Note that you will complete all 11 steps when you have the raw data, but you should use <code>t.test()</code> as shown here to perform all of the hard calculations for you.</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
