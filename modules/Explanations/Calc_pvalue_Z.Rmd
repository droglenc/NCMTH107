---
layout: page
title: Calculate p-value (Z)
author: Derek H. Ogle
css: "/css/modules.css"
output:
  html_document:
    fig_height: 3.5
    fig_width: 3.5
    self_contained: false
    lib_dir: zlibs
---

```{r echo=FALSE, eval=FALSE, warning=FALSE}
# Renders an appropriate HTML file for the webpage
setwd("C:/aaaWork/Web/GitHub/NCMTH107/modules/Explanations/")
source("../../rhelpers/rhelpers.R")
modHTML("Calc_pvalue_Z")
```

```{r echo=FALSE, results='hide', message=FALSE, warning=FALSE}
library(NCStats)
source("../../rhelpers/knitr_setup.R")
```

----

## Steps to Follow

Constructing and interpreting a p-value is made easier with these steps.

1. **Identify H<sub>0</sub> and H<sub>A</sub>**
1. **Define the p-value specific to the situation.**
    * In the generic p-value definition ("probability of the observed statistic or a value more extreme assuming the H<sub>0</sub> is true) replace "observed statistic" with the value of $\bar{x}$, "more extreme" with "less", "greater", or "different" depending on H<sub>A</sub>, and "the H<sub>0</sub> is true" with the specific value of &mu; in H<sub>0</sub>.
1. **Draw the null distribution.**
    * This is the sampling distribution assuming that H<sub>0</sub> is true. Thus, it will be centered on the &mu; in H<sub>0</sub> and will use a standard error of $\frac{\sigma}{\sqrt{n}}$.
1. **Compute the p-value.**
    * This will be a FORWARD calculation on a normal distribution centered on &mu; from H<sub>0</sub> with an area shaded "more extreme" (depending on H<sub>A</sub>) of $\bar{x}$.
    * If H<sub>A</sub> is a "not equals" then "more extreme" means into the nearest tail and then multiplied by 2.
1. **Make a decision about H<sub>0</sub>.** *If the question has a context then the parameter should be stated within the context of the question.*
    * If the p-value&lt;&alpha; then reject H<sub>0</sub> (in favor of H<sub>A</sub>.
    * If the p-value&gt;&alpha; then do not reject (DNR) H<sub>0</sub> (in favor of H<sub>A</sub>.

----

## First Example
Suppose that I hypothesized that the mean time to take a quiz is less than 100 minutes and that, in a sample of 30 students, the mean time to take the quiz was 95.2 minutes. Further, suppose that &sigma;=20 and &alpha;=0.10.

1. H<sub>0</sub>: &mu;=100 versus H<sub>A</sub>: &mu;&lt;100, where &mu; is the mean time to take a quiz.
1. The p-value is the "probability that $\bar{x}$=95.2 or less assuming that &mu;=100."
1. The null distribution will have a mean of 100 and a SE of $\frac{20}{\sqrt{30}}$=3.651. See drawing below.
1. The p-value is `r kPvalue(distrib(95.2,mean=100,sd=20/sqrt(30)),include.p=FALSE,latex=FALSE)` as computed below.
1. Reject H<sub>0</sub> because p-value&lt;&alpha; (i.e., `r kPvalue(distrib(95.2,mean=100,sd=20/sqrt(30)),include.p=FALSE,latex=FALSE)`&lt;0.10). Thus, it appears that the mean time for ALL students to take the quiz is less than 100 minutes.
```{r}
distrib(95.2,mean=100,sd=20/sqrt(30))
```

----

## Second Example
Suppose that I hypothesized that the mean time to walk between the Science Center and the Ponzio Center is more than 7 minutes and that, in a sample of 50 students, the mean time to make this walk was 8.3 minutes. Further, suppose that &sigma;=1.3 and &alpha;=0.05.

1. H<sub>0</sub>: &mu;=7 versus H<sub>A</sub>: &mu;&gt;7, where &mu; is the mean time to walk between the Science Center and the Ponzio Center.
1. The p-value is the "probability that $\bar{x}$=8.3 or greater assuming that &mu;=7."
1. The null distribution will have a mean of 7 and a SE of $\frac{1.3}{\sqrt{50}}$=0.184. See drawing below.
1. The p-value is `r kPvalue(distrib(8.3,mean=7,sd=1.3/sqrt(50),lower.tail=FALSE),include.p=FALSE,latex=FALSE,digits=16)` as computed below. Note that the p-value does not need all of these decimals and, thus, I will usually show this as `r kPvalue(distrib(8.3,mean=7,sd=1.3/sqrt(50),lower.tail=FALSE),include.p=FALSE,latex=FALSE)`.
1. Reject H<sub>0</sub> because p-value&lt;&alpha; (i.e., `r kPvalue(distrib(8.3,mean=7,sd=1.3/sqrt(50),lower.tail=FALSE),include.p=FALSE,latex=FALSE)`&lt;0.05). Thus, it appears that the mean time for ALL students to walk between the Science Center and the Ponzio Center is greater than 7 minutes.
```{r}
distrib(8.3,mean=7,sd=1.3/sqrt(40),lower.tail=FALSE)
```


----

## Third Example
Suppose that I hypothesized that the mean time students spend preparing for the prep check is different than 30 minutes and that, in a sample of 40 students, the mean preparation time was 33.8 minutes. Further, suppose that &sigma;=9.7 and &alpha;=0.01.

<div class="alert alert-warning">
When H<sub>A</sub> is a "not equals" then the area shaded on the null distribution is into the nearest tail. In this case, because $\bar{x}$ (=33.8) was greater than the mean of the distribution (=30), I shaded to the right (into the nearer "upper tail"). If the $\bar{x}$ had been lower, I would have shaded to the left. In these situations (i.e., when H<sub>A</sub> is a "not equals") then the area returned by `distrib()` must be multiplied by two to get the p-value (to account for both tails of the same size).</li>
</ul>
</div>

1. H<sub>0</sub>: &mu;=30 versus H<sub>A</sub>: &mu;&ne;30, where &mu; is the mean time preparing for the prep check.
1. The p-value is the "probability that $\bar{x}$=33.8 or no assuming that &mu;=30."
1. The null distribution will have a mean of 30 and a SE of $\frac{9.7}{\sqrt{40}}$=1.534. See drawing below.
1. The half p-value is `r kPvalue(distrib(33.8,mean=30,sd=9.7/sqrt(40),lower.tail=FALSE),include.p=FALSE,latex=FALSE)` as computed below. Thus, the p-value is `r kPvalue(2*distrib(33.8,mean=30,sd=9.7/sqrt(40),lower.tail=FALSE),include.p=FALSE,latex=FALSE)`
1. Do not reject H<sub>0</sub> because p-value&gt;&alpha; (i.e., `r kPvalue(2*distrib(33.8,mean=30,sd=9.7/sqrt(40),lower.tail=FALSE),include.p=FALSE,latex=FALSE)`&gt;0.01). Thus, it appears that the mean time that ALL students spend preparing for the prep check is not different than 30 minutes.
```{r}
distrib(33.8,mean=30,sd=9.7/sqrt(40),lower.tail=FALSE)
```

----

